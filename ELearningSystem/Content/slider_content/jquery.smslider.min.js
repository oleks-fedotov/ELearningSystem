/*
 * smSlider 0.1
 * http://sashamochalin.github.io/smSlider/
 *
 * Copyright Â© 2013 Sasha Mochalin
 */
 (function(a){a.fn.smSlider=function(b){var c={start:0,transition:"animate",activeClass:"active",autoArr:true,innerBlock:"sm_slider-inner",prev:"sm_prev",next:"sm_next",children:"sm_slide",pagination:true,typeCtrl:"dots",subMenu:false,subMenuClass:"sm_submenu-item",autoPlay:false,delay:5000,hoverPause:true,easing:"swing",duration:600,flexible:false,animationStart:function(){},animationComplete:function(){}};var b=a.extend(c,b);return this.each(function(){var m=true;var q=function(y,x){if(m){m=false;var v=h;var w=-1*v;if(x=="next"){currPos=w;nextPos=v}else{currPos=v;nextPos=w}if(b.transition!="fader"){d.children("."+b.children+"."+b.activeClass).stop().animate({left:currPos},{duration:b.duration,easing:b.easing,complete:function(){a(this).removeClass(b.activeClass);if(b.animationComplete){b.animationComplete(y)}}});n.eq(y).css("left",nextPos).addClass(b.activeClass).stop().animate({left:0},{duration:b.duration,easing:b.easing,complete:function(){m=true}})}else{d.children("."+b.children+"."+b.activeClass).stop().fadeOut({duration:b.duration,easing:b.easing,complete:function(){a(this).removeClass(b.activeClass);if(b.animationComplete){b.animationComplete(y)}}});n.eq(y).stop().fadeIn({duration:b.duration,easing:b.easing,complete:function(){m=true}}).addClass(b.activeClass)}if(b.animationStart){b.animationStart(y)}if(b.pagination){t.removeClass(b.activeClass);t.eq(y).addClass(b.activeClass)}if(b.subMenu){r.removeClass(b.activeClass);r.eq(y).addClass(b.activeClass)}}else{return false}};var g=a(this);var h=g.width();var j=g.height();if(b.flexible){a(window).resize(function(){h=g.width()})}var d=g.children("ul").addClass(b.innerBlock);d.css({height:j,overflow:"hidden",position:"relative",width:"100%"});var n=d.children("li").addClass(b.children);var f=n.length;if(b.start>f-1){var o=f-1}else{var o=b.start}n.appendTo(d);n.eq(o).addClass(b.activeClass);if(f>1){var s=a("<i/>");if(b.autoArr){var u=s.clone().addClass(b.prev);var e=s.clone().addClass(b.next);u.appendTo(g);e.appendTo(g)}else{var u=a("."+b.prev);var e=a("."+b.next)}if(b.pagination){var l=a("<ul/>").addClass("sm_nav");var t=a("<li/>");l.appendTo(g);if(b.typeCtrl!="numeric"){for(i=0;i<f;i++){t.clone().data({index:i}).addClass("sm_nav-item").html(s.clone()).appendTo(l)}}else{for(i=0;i<f;i++){t.clone().data({index:i}).addClass("sm_nav-item").text(i+1).appendTo(l)}}var t=g.find(".sm_nav-item");t.eq(o).addClass(b.activeClass)}if(b.subMenu){var r=a("."+b.subMenuClass);r.eq(o).addClass(b.activeClass)}}if(b.autoPlay&&(f>1)){var p=null;var k=function(){o++;if(o>=f){o=0}q(o,"next")};p=setInterval(k,b.delay);if(b.hoverPause){a(this).hover(function(){p=clearInterval(p)},function(){p=setInterval(k,b.delay)})}}if(f>1){u.bind("click",function(){if(m){o--;if(o<0){o=f-1}q(o,"prev")}});e.bind("click",function(){if(m){o++;if(o>=f){o=0}q(o,"next")}});if(b.pagination){t.on("click",function(){if(m){navIndex=a(this).data("index");if(navIndex>o){direction="next"}else{direction="prev"}if(a(this).data("index")!=o){o=navIndex;q(o,direction)}}})}if(b.subMenu){r.bind("click",function(){if(m){subIndex=a(this).data("index");if(subIndex>o){direction="next"}else{direction="prev"}if((subIndex!=o)&&(subIndex<=(f-1))){o=subIndex;q(o,direction)}}})}}})}})(jQuery);